<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %} INTELLINEX {% endblock %}</title>
    <!-- INTEGRATE WITH CSS -->
        <!-- STYLE and FAVICON -->
    <link rel="stylesheet" href="{{ url_for('static', path='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', path='css/table.css') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', path='assets/favicon.png') }}">
    
    <!-- Bootstrap CSS STYLE -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>
<body style="background-color: #f4f7fa;">
    <main class="dashboard">
        
        <!-- Sidebar -->
        <div id="sidebar-container"></div>

        <!-- Main Content -->
        <div class="main-content" >
            <!-- Header -->
            <div id="header-container"></div>

            <section class="content">

                <h1 class="fw-semibold fs-2">{{title}}</h1>
                <p style="font-size: 13px;">{{description}}</p>

                <div  class="bg-white pb-4" style="border-radius: 12px;" >
                    
                    {% block content %}{% endblock %}
                    
                    
                    <div  class="table-footer">

                        
                        <span style="font-size: 13px;" >Showing Page {{ page }} of {{ (total + limit - 1) // limit }}</span>
                        

                        <!-- <div class="pagination">
                            {% if page > 1 %}
                            <a href="{{ url_for('list_location') }}?page={{ page - 1 }}&limit={{ limit }}">Previous</a>
                            {% endif %}
                            <span>Page {{ page }} of {{ (total + limit - 1) // limit }}</span>
                            {% if page * limit < total %}
                            <a href="{{ url_for('list_location') }}?page={{ page + 1 }}&limit={{ limit }}">Next</a>
                            {% endif %}
                        </div> -->

                        <div class="pagination">
                            {# Previous Button #}
                            {% if page <= 1 %}
                                <a href="#" aria-disabled="true" class="previous disabled">Previous</a>
                            {% else %}
                                <a href="{{ url_for('list_location') }}?page={{ page - 1 }}&limit={{ limit }}"
                                class="previous">
                                    Previous
                                </a>
                            {% endif %}
                        
                            {# Page Numbers #}
                            {% set total_pages = (total + limit - 1) // limit %}
                            {% if total_pages <= 5 %}
                                {# Show all pages if there are 5 or fewer pages #}
                                {% for p in range(1, total_pages + 1) %}
                                    {% if p == page %}
                                        <span class="current-page">{{ p }}</span>
                                    {% else %}
                                        <a href="{{ url_for('list_location') }}?page={{ p }}&limit={{ limit }}" class="pagination-button">{{ p }}</a>
                                    {% endif %}
                                {% endfor %}
                            {% else %}
                                {# Show first 2 pages, then [...] if current page is > 3, then current page and surrounding pages, then [...] if current page is < total_pages - 2, then last 2 pages #}
                                {% for p in range(1, 3) %}
                                    {% if p == page %}
                                        <span class="current-page">{{ p }}</span>
                                    {% else %}
                                        <a href="{{ url_for('list_location') }}?page={{ p }}&limit={{ limit }}" class="pagination-button">{{ p }}</a>
                                    {% endif %}
                                {% endfor %}
                        
                                {% if page > 3 %}
                                    <a href="#" class="pagination-button" >•••</a>
                                {% endif %}
                        
                                {% for p in range([page - 1, 3]|max, [page + 2, total_pages - 1]|min + 1) %}
                                    {% if p == page %}
                                        <span class="current-page">{{ p }}</span>
                                    {% else %}
                                        <a href="{{ url_for('list_location') }}?page={{ p }}&limit={{ limit }}" class="pagination-button">{{ p }}</a>
                                    {% endif %}
                                {% endfor %}
                        
                                {% if page < total_pages - 2 %}
                                        <a href="#" class="pagination-button" >•••</a>
                                {% endif %}
                        
                                {% for p in range(total_pages - 1, total_pages + 1) %}
                                    {% if p == page %}
                                        <span class="current-page">{{ p }}</span>
                                    {% else %}
                                        <a href="{{ url_for('list_location') }}?page={{ p }}&limit={{ limit }}" class="pagination-button">{{ p }}</a>
                                    {% endif %}
                                {% endfor %}
                            {% endif %}
                        
                            {# Next Button #}
                            {% if page * limit >= total %}
                                <a href="#" aria-disabled="false" class="next">Next</a>
                            {% else %}
                                <a href="{{ url_for('list_location') }}?page={{ page + 1 }}&limit={{ limit }}" class="next">Next</a>
                            {% endif %}
                        
                        </div>
                    
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- INTEGRATE WITH JAVASCRIPT OR JQUERY -->
        <!-- Bootstrap and jQuery -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <!-- Chart Configuration -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', path='js/charts/user_chart.js') }}"></script>

    <script src="{{ url_for('static', path='js/main.js') }}"></script>
    
</body>
</html>